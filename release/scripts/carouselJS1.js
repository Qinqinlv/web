function setSquare(e){for(var t=1;t<spans.length-1;t++)spans[t].setAttribute("class","slider-ctrl-icon");spans[e+1].setAttribute("class","slider-ctrl-icon current")}function autoPlay(){animate(imgs[key],{left:-scrollWidth}),++key>imgs.length-1&&(key=0),imgs[key].style.left=scrollWidth+"px",animate(imgs[key],{left:0}),setSquare(key)}for(var js_silder=document.getElementById("js_silder"),slider_ctrl=document.getElementById("slider_ctrl"),slider_main=document.getElementById("slider_main"),imgs=slider_main.children,i=0;i<imgs.length;i++){var span=document.createElement("span");span.innerHTML=imgs.length-i,span.className="slider-ctrl-icon",slider_ctrl.insertBefore(span,slider_ctrl.children[1])}var spans=slider_ctrl.children;spans[1].setAttribute("class","slider-ctrl-icon current");for(var scrollWidth=js_silder.offsetWidth,i=1;i<imgs.length;i++)imgs[i].style.left=scrollWidth+"px";var key=0;for(var k in spans)spans[k].onclick=function(){if("slider-ctrl-prev"==this.className)animate(imgs[key],{left:scrollWidth}),key=--key<0?imgs.length-1:key,imgs[key].style.left=-scrollWidth+"px",animate(imgs[key],{left:0}),setSquare(key);else if("slider-ctrl-next"==this.className)autoPlay();else{var e=this.innerHTML-1;e>key?(imgs[e].style.left=scrollWidth+"px",animate(imgs[key],{left:-scrollWidth})):e<key&&(imgs[e].style.left=-scrollWidth+"px",animate(imgs[key],{left:scrollWidth})),key=e,animate(imgs[e],{left:0}),setSquare(key)}};var timer=null;timer=setInterval(autoPlay,1500),js_silder.onmouseover=function(){clearInterval(timer)},js_silder.onmouseout=function(){clearInterval(timer),timer=setInterval(autoPlay,1e3)};